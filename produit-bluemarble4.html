<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Blue Marble 4 — Eclaboucles</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="style.css">

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YXD6JPZJWC"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  
  gtag('config', 'G-YXD6JPZJWC');
</script>

</head>

<body>

<nav>
  <a href="index.html">Accueil</a>
  <a href="blue-marble.html">Blue Marble</a>
  <a href="tournesols.html">Tournesols</a>
  <a href="contact.html">Contact</a>
  
  <!-- Onglet panier à droite -->
   <div id="nav-cart" style="float:right; margin-left: auto;">
    <a href="#" id="open-cart">Panier (<span id="nav-cart-count">0</span>)</a>
  </div>

  <!-- Fenêtre panier flottante -->
  <div id="cart-modal" style="display:none; position:fixed; top:60px; right:20px; width:350px; max-height:80vh; overflow-y:auto; background:#fff; border:1px solid #ccc; padding:15px; box-shadow:0 2px 10px rgba(0,0,0,0.3); z-index:1000;">
  <h3>Mon Panier</h3>
  <div id="cart-items">
    <p>Votre panier est vide.</p>
  </div>
  <p><strong>Total : </strong><span id="cart-total">0</span> €</p>
  <button id="clear-cart">Vider le panier</button>
  <button id="close-cart">Fermer</button>
</div>


</nav>

<section class="product-page">

  <div class="product-image">

    <div class="product-image">
      <div class="product-slider">
      <img class="pslide active" src="images/bluemarble4_1.jpg">
      <img class="pslide" src="images/bluemarble4_2.jpg">
      <img class="pslide" src="images/bluemarble4_3.jpg">
    </div>
  </div>
  <!-- flèches -->
  <div class="pslider-arrows">
    <span class="pslide-arrow left" onclick="prevPSlide()">&#10094;</span>
    <span class="pslide-arrow right" onclick="nextPSlide()">&#10095;</span>
  </div>

  <!-- petits points -->
  <div class="pdots">
    <span class="pdot active" onclick="goToPSlide(0)"></span>
    <span class="pdot" onclick="goToPSlide(1)"></span>
    <span class="pdot" onclick="goToPSlide(2)"></span>
  </div>

  </div>
  </div>

  <div class="product-info">
    <h1>Boucle</h1>
    <p class="price">32,00 €</p>

    <p class="description">
      <p style="text-align: left;">
      Boucles Blue Marble faites main en pâte polymère. Motif marbré.<br><br>
      Fabriquées à la main et avec soin, chaque paire est unique grâce à son motif singulier.<br><br>
      Elles sont composées d’argile polymère et recouvertes d’une fine couche de résine, pour un rendu brillant et une meilleure résistance.<br><br>
      Les attaches sont en alliage de cuivre adapté à un usage quotidien et idéal pour les peaux sensibles.<br><br>
      Couleur Or<br><br>
      </p>
    </p>

    <p class="stock">Disponible</p>

    <button 
      class="add-to-cart" 
      data-id="bluemarble4"
      data-name="Boucle Blue Marble" 
      data-description="Boucle Blue Marble faites main en pâte polymère. Motif marbré." 
      data-price="32">
      Ajouter au panier
    </button>

    <details style ="text-align: left;">
      <summary>Composition & Entretien</summary>
      <p style="text-align: left;">
      <br><br>
      Pâte polymère, finition vernie, attaches en alliage de cuivre.<br><br>
      Les bijoux sont composées d'argile polymère et recouverts d'une couche de résine, pour un fini brillant et une meilleure résistance.<br><br>
      Les attaches en alliage de cuivre, adapté à un usage quotidien et idéal pour les peaux sensibles.<br><br>
      Pour prendre de soin de vos bijoux :<br><br>
      </p>
      <ul class="care-list" style="text-align: left;">
        <li>Nettoyez-les délicatement avec un chiffon doux</li>
        <li>Rangez-les dans leur pochon ou dans une boite pour les protéger</li>
        <li>Evitez de les porter lors de vos activités physiques</li>
        <li>Vos bijoux résistent à l’eau et ne s'oxydent pas, mais nous vous conseillons d’éviter un contact prolongé avec l'eau pour conserver tout leur éclat.</li>
        <li>Veillez à ne pas plier ou tordre les bijoux car ils pourraient rompre.</li>
      </ul>
      <br><br>
      </p style="text-align: left;">
      Chaque bijou est façonné à la main, ce qui rend chaque pièce unique. Les motifs et nuances peuvent donc légèrement varier par rapport aux photos présentées.<br><br>
      De légères irrégularités peuvent aussi apparaître, reflet du travail artisanal et de l’authenticité de chaque bijou.<br><br>
      </p>
    </details>

    <details style="text-align: left;">
      <summary>Taille & Poids</summary>
      <br><br>
      <p><strong>Taille :</strong></p>
      <br><br>
      <ul class="care-list" style="text-align: left;">
        <li> Pampille Taille 3 : 2.7 cm</li>
      </ul>
      <br><br>
      <p><strong>Poids :</strong></p>
      <br><br>
      <p>
      L’argile polymère est un matériau très léger, ce qui permet de porter de grandes pièces en tout confort et sans ressentir de gêne aux oreilles.
      </p>
      <br><br>
      <ul class="care-list" style="text-align: left;">
        <li> Pampille Taille 3 : 3 à 5 g</li>
      </ul>
    </details>

    <details style ="text-align: left;">
      <summary>Livraison & Retours</summary>
      <p>Expédition sous 2 à 4 jours ouvrés.</p>
    </details>

  </div>

</section>

<footer>© 2026 Eclaboucles</footer>

<script>
// --- Panier global avec LocalStorage ---
const navCartCount = document.getElementById("nav-cart-count");
const cartItemsDiv = document.getElementById("cart-items");
const cartTotalEl = document.getElementById("cart-total");
const openCartBtn = document.getElementById("open-cart");
const closeCartBtn = document.getElementById("close-cart");
const clearCartBtn = document.getElementById("clear-cart");
const cartModal = document.getElementById("cart-modal");

// Récupérer le panier depuis LocalStorage ou créer un tableau vide
function getCart(){
  return JSON.parse(localStorage.getItem("cart")) || [];
}

// Sauvegarder le panier dans LocalStorage
function saveCart(cart){
  localStorage.setItem("cart", JSON.stringify(cart));
}

// Affichage du panier
function renderCart(){
  const cart = getCart();
  cartItemsDiv.innerHTML = "";
  if(cart.length === 0){
    cartItemsDiv.innerHTML = "<p>Votre panier est vide.</p>";
    cartTotalEl.textContent = "0";
    navCartCount.textContent = "0";
    return;
  }

  const ul = document.createElement("ul");
  let total = 0;

  cart.forEach((item,index)=>{
    const li = document.createElement("li");
    li.innerHTML = `
      <strong>${item.name}</strong><br>
      ${item.description}<br>
      Prix: ${item.price.toFixed(2)} €<br>
      Quantité: <input type="number" min="1" value="${item.quantity}" data-index="${index}" class="item-qty" style="width:50px;">
      <button data-index="${index}" class="remove-item">Supprimer</button>
    `;
    ul.appendChild(li);
    total += item.price * item.quantity;
  });

  cartItemsDiv.appendChild(ul);
  cartTotalEl.textContent = total.toFixed(2);
  navCartCount.textContent = cart.reduce((sum,i)=>sum+i.quantity,0);

  // Changement quantité
  document.querySelectorAll(".item-qty").forEach(input=>{
    input.addEventListener("change", e=>{
      const idx = e.target.dataset.index;
      const val = parseInt(e.target.value);
      const cart = getCart();
      if(val < 1){ e.target.value = 1; return; }
      cart[idx].quantity = val;
      saveCart(cart);
      renderCart();
    });
  });

  // Supprimer un article
  document.querySelectorAll(".remove-item").forEach(btn=>{
    btn.addEventListener("click", e=>{
      const idx = e.target.dataset.index;
      const cart = getCart();
      cart.splice(idx,1);
      saveCart(cart);
      renderCart();
    });
  });
}

// Ajouter au panier
document.querySelectorAll(".add-to-cart").forEach(btn=>{
  btn.addEventListener("click", ()=>{
    const cart = getCart(); // toujours lire le panier à jour
    const product = {
      id: btn.dataset.id,
      name: btn.dataset.name,
      description: btn.dataset.description,
      price: parseFloat(btn.dataset.price),
      quantity:1
    };

    const existing = cart.find(p=>p.id === product.id);
    if(existing){
      existing.quantity += 1;
    } else {
      cart.push(product);
    }

    saveCart(cart);
    renderCart();
    alert(`${product.name} ajouté au panier !`);
  });
});

// Ouvrir / fermer
openCartBtn.addEventListener("click", ()=> cartModal.style.display="block");
closeCartBtn.addEventListener("click", ()=> cartModal.style.display="none");

// Vider panier
clearCartBtn.addEventListener("click", ()=>{
  saveCart([]);
  renderCart();
});

// Afficher panier dès chargement
renderCart();
</script>

<script>
let currentSlide = 0;
const slides = document.querySelectorAll(".pslide");
const dots = document.querySelectorAll(".pdot");

function showSlide(index){
  slides.forEach((s,i)=>{
    s.classList.toggle("active", i===index);
  });
  dots.forEach((d,i)=>{
    d.classList.toggle("active", i===index);
  });
  currentSlide = index;
}

function nextPSlide(){
  let next = (currentSlide + 1) % slides.length;
  showSlide(next);
}

function prevPSlide(){
  let prev = (currentSlide - 1 + slides.length) % slides.length;
  showSlide(prev);
}

function goToPSlide(index){
  showSlide(index);
}

// Auto-slide toutes les 5 secondes
setInterval(nextPSlide, 5000);

// Initial
showSlide(0);
</script>

</body>
</html>
